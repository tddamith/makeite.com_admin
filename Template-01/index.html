<body>
<header class="site-header">
    <div class="container row between center">
        <div class="brand">
            <img data-bind="brand.logo" alt="Brand" />
        </div>
        <div class="actions">
            <button id="btn-download" class="btn small">Download PNG</button>
            <button id="btn-share" class="btn small ghost">Share Link</button>
        </div>
    </div>
</header>

<!-- Envelope Intro Overlay -->
<div id="intro-layer" class="fixed inset-0 z-[70] hidden items-center justify-center bg-slate-900/70 backdrop-blur-sm">
    <div class="relative w-[min(92vw,520px)]">
        <!-- Envelope body -->
        <div class="envelope-body relative w-full pt-[66%] rounded-xl shadow-2xl bg-white ring-1 ring-black/10 overflow-hidden">
            <!-- Decorative pattern / image (optional) -->
            <img id="intro-envelope-pattern" src="assets/images/envelope-pattern.png" alt="" class="absolute inset-0 w-full h-full object-cover opacity-20 pointer-events-none hidden" />
            <!-- Letter (placeholder) rises out; we’ll crossfade to real card -->
            <div class="letter absolute left-[8%] right-[8%] bottom-[6%] h-[64%] bg-white rounded-xl shadow-xl ring-1 ring-black/10 grid place-items-center overflow-hidden">
                <div class="w-[80%] h-[80%] rounded-lg bg-slate-50 ring-1 ring-black/5"></div>
            </div>
            <!-- Flap -->
            <div class="envelope-flap absolute inset-x-0 -top-[45%] pb-[45%] origin-bottom bg-white shadow-md"></div>
        </div>

        <!-- Small hint -->
        <p class="mt-3 text-center text-white/80 text-sm">Opening invitation…</p>
    </div>
</div>

<!-- Card stage: fixed px size from JSON, scaled responsively -->
<main class="stage">
    <div id="card-wrap">
        <!-- This is the fixed-size card; size comes from JSON -->
        <section id="card" role="img" aria-label="Invitation Card">
            <!-- Safe area (padding set via JSON) -->
            <div id="card-safe">
                <!-- Your existing sections live here -->
                <section class="hero" data-section="hero" data-animate="hero">
                    <div class="hero-inner">
                        <h1 class="title" data-bind="hero.title">You're Invited</h1>
                        <p class="subtitle" data-bind="hero.subtitle">Join us for a special day</p>

                        <div class="event meta">
                            <span class="date" data-bind="event.date">Jan 01, 2026</span> ·
                            <span class="time" data-bind="event.time">6:00 PM</span> ·
                            <span class="venue" data-bind="event.venue">Colombo</span>
                        </div>

                        <a id="cta" class="btn" href="#" data-bind="cta.href" data-animate="cta">
                            <span data-bind="cta.label">RSVP Now</span>
                        </a>
                    </div>
                </section>

                <section class="details" data-section="details">
                    <h2 data-bind="details.heading">Event Details</h2>
                    <p data-bind="details.body">
                        Dress code, parking, directions, and more info here.
                    </p>
                </section>
            </div>
        </section>
    </div>
    <!-- Optional bleed preview frame -->
    <p class="card-meta"><span id="card-size-label"></span></p>
</main>

<!-- Zoom controls -->
<div class="zoombar" aria-label="Zoom Controls">
    <button class="zbtn" id="z-out" title="Zoom out (–)">–</button>
    <input type="range" id="z-range" min="25" max="400" value="100" step="5" aria-label="Zoom percentage" />
    <span id="z-label">100%</span>
    <button class="zbtn" id="z-in" title="Zoom in (+)">+</button>
    <button class="zbtn ghost" id="z-reset" title="Reset zoom">100%</button>
    <button class="zbtn ghost" id="z-fit" title="Fit to screen">Fit</button>
</div>

<footer class="site-footer container">
    <p data-bind="footer.note">Made with ♥</p>
</footer>

<!-- Base + Animation styles -->
<link rel="stylesheet" href="assets/css/base.css" />
<link rel="stylesheet" href="assets/css/animation.css" />

<!-- html-to-image (UMD) for PNG export -->
<script src="https://unpkg.com/html-to-image@1.11.11/dist/html-to-image.min.js" defer></script>

<!-- Your runtime applier -->
<script src="assets/js/main.js" defer></script>
</body>
