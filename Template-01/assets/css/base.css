:root{
    --bg: #0f172a;            /* default slate-900 */
    --card: #ffffff;
    --ink: #0b1220;
    --muted: #64748b;
    --primary: #7c3aed;       /* default violet-600 */
    --radius: 16px;
}

* { box-sizing: border-box }
html, body { height: 100% }
body {
    margin: 0;
    color: var(--ink);
    background: var(--bg);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    line-height: 1.5;
}

.container { width: 100%; max-width: 960px; margin-inline: auto; padding: 24px }
.site-header, .site-footer { background: transparent }

.brand img { height: 40px; display: block }

.hero {
    top:0;

    min-height: 60vh;
    background-size: cover;
    background-position: center;
    display: grid;
    place-items: center;
    text-align: center;
    padding: 48px 24px;
    position: fixed;
    z-index: 0;
}
.hero .title { margin: 0 0 12px }
.hero .subtitle { margin: 0 0 16px; color: var(--muted) }
.event.meta { margin: 12px 0 24px; font-weight: 500 }

.btn {
    display: inline-flex; align-items: center; justify-content: center;
    padding: 12px 20px; border-radius: var(--radius);
    background: var(--primary); color: #fff; text-decoration: none; border: 0;
    transition: transform .15s ease, box-shadow .15s ease;
    box-shadow: 0 6px 18px rgba(0,0,0,.15);
}
.btn:hover { transform: translateY(-1px) }
.btn:active { transform: translateY(0) }

.details, .rsvp { background: var(--card); border-radius: var(--radius); margin: 24px auto; padding: 24px }
.details h2, .rsvp h2 { margin-top: 0 }

.form-fields { display: grid; gap: 12px; grid-template-columns: 1fr 1fr }
.form-fields .full { grid-column: 1 / -1 }
input, select, textarea {
    width: 100%; padding: 10px 12px; border-radius: 12px; border: 1px solid #e5e7eb;
    font: inherit; background: #fff;
}
label { font-size: .9rem; color: var(--muted); display: block; margin-bottom: 6px }
.form-note { color: var(--muted); font-size: .9rem }

@media (max-width: 640px) {
    .form-fields { grid-template-columns: 1fr }
}

/* Utility */
.row { display: flex; gap: 12px }
.between { justify-content: space-between }
.center { align-items: center }

.actions .btn.small { padding: 8px 12px; font-size: 14px }
.btn.ghost { background: transparent; color: var(--primary); border: 1px solid var(--primary) }

/* Stage centers the card */
.stage {
    display: grid;
    place-items: center;
    padding: 24px;
}

/* The wrapper scales for responsiveness; the #card inside keeps exact px size */
/*#card-wrap {*/
/*    --scale: 1;*/
/*    transform: scale(var(--scale));*/
/*    transform-origin: top left;*/
/*    !* Allow overflow hidden for bleed preview edges if you want *!*/
/*}*/

/* Fixed-size card (dimensions set inline from JS using JSON config) */
#card {
    position: relative;
    width: 1050px;         /* default; replaced by JS from JSON */
    height: 1500px;        /* default; replaced by JS from JSON */
    border-radius: var(--radius);
    background: var(--card);
    overflow: hidden;
    box-shadow: 0 20px 60px rgba(0,0,0,.2);
    margin: 0 auto;
}

/* Safe padding set from JSON */
#card-safe {
    padding: 36px;         /* default; replaced by JS from JSON */
    height: 100%;
    display: grid;
    grid-auto-rows: min-content;
    gap: 16px;
}

/* Hero inside card */
#card .hero {
    min-height: 40%;
    background-size: cover;
    background-position: center;
    text-align: center;
    display: grid;
    place-items: center;
    padding: 12px;
}

/* Details block lives within card bounds */
#card .details {
    background: var(--card);
    border-radius: var(--radius);
    padding: 16px;
}

/* Responsive: scale card to fit screen */
@media (max-width: 1200px) {
    .stage { padding: 12px }
}


/* Zoom bar */
.zoombar {
    position: fixed;
    right: 16px;
    bottom: 16px;
    display: inline-flex;
    gap: 8px;
    align-items: center;
    padding: 10px 12px;
    background: rgba(255,255,255,.9);
    border: 1px solid #e5e7eb;
    border-radius: 14px;
    box-shadow: 0 8px 30px rgba(0,0,0,.15);
    z-index: 50;
    backdrop-filter: saturate(1.2) blur(4px);
}
.zoombar #z-range { width: 160px }
.zbtn {
    padding: 6px 10px;
    border-radius: 10px;
    background: var(--primary);
    color: #fff;
    border: 0;
    cursor: pointer;
    font-weight: 600;
}
.zbtn:hover { opacity: .9 }
.zbtn.ghost {
    background: transparent;
    color: var(--ink);
    border: 1px solid #e5e7eb;
}

/* Preview scaling: combine auto-fit scale and manual zoom */
#card-wrap {
    --scale: 1;   /* auto fit-to-viewport (set by JS) */
    --zoom: 1;    /* user zoom (set by JS) */
    transform: scale(calc(var(--scale) * var(--zoom)));
    transform-origin: top center;
}

/* Envelope opening sequence */
@keyframes flap-open {
    0%   { transform: rotateX(0deg); }
    100% { transform: rotateX(180deg); }
}
@keyframes letter-rise {
    0%   { transform: translateY(40%); opacity: .0; }
    60%  { opacity: 1; }
    100% { transform: translateY(-10%); opacity: 1; }
}
@keyframes layer-fade-out {
    0% { opacity: 1; }
    100% { opacity: 0; }
}

/* 3D-ish flap look */
.envelope-flap {
    background: linear-gradient(to bottom, #ffffff, #f8fafc);
    border-bottom-left-radius: 14px;
    border-bottom-right-radius: 14px;
    box-shadow: 0 18px 30px rgba(0,0,0,.15);
    transform-style: preserve-3d;
    backface-visibility: hidden;
}
.envelope-body {
    background: linear-gradient(180deg, #ffffff 0%, #f8fafc 60%, #ffffff 100%);
}

/* Sequence classes applied via JS for better timing control */
.play-flap { animation: flap-open .9s ease-in-out forwards; transform-origin: bottom center; }
.play-letter { animation: letter-rise 1.2s .35s cubic-bezier(.22,.61,.36,1) forwards; }
.play-fadeout { animation: layer-fade-out .45s ease .9s forwards; }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
    .play-flap, .play-letter, .play-fadeout { animation-duration: .001s; animation-delay: 0s; }
}
